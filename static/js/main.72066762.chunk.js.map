{"version":3,"sources":["redux/profileReducer.ts","api/api.ts","redux/dialogsReducer.ts","assets/images/user.jpg","assets/images/preloader.gif","components/Navbar/Navbar.module.css","components/common/Preloader/FormsControls/FormsControls.tsx","components/common/Preloader/PreloaderImg.tsx","redux/sidebarReducer.ts","redux/utils/objectsHelpers.js","redux/usersReducer.ts","redux/authReducer.ts","redux/appReducer.ts","redux/redux-store.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Navbar/Navbar.jsx","components/common/Preloader/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","redux/usersSelectors.ts","components/Users/UsersContainer.tsx","components/Login/Login.tsx","hoc/WithSuspense.tsx","App.tsx","i18next.js","index.tsx","components/Users/users.module.css","redux/utils/validators/validators.ts","components/common/Preloader/FormsControls/FormsControls.module.css","components/Header/Header.module.css","components/common/Preloader/Paginator/Paginator.module.css"],"names":["ADD_POST","SET_STATUS","DELETE_POST","initialState","posts","id","message","likesCount","profile","status","actions","AddPostActionCreator","newPostText","type","deletePost","postId","setUserProfile","setStatus","savePhotoSuccess","photos","getUserProfile","userId","dispatch","a","profileAPI","getProfile","data","getStatus","updateStatus","resultCode","alert","savePhoto","file","saveProfile","getState","auth","response","Error","messages","length","stopSubmit","_error","Promise","reject","profileReducer","state","action","newPost","filter","p","ResultCodesEnum","ResultCodesForCaptcha","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","put","image","formData","FormData","append","authAPI","authMe","login","email","password","rememberMe","captcha","post","logout","delete","followAPI","toggleFollow","toggleUnFollow","securityAPI","getCaptchaUrl","dialogs","name","sendMessage","newMessageBody","dialogsReducer","body","module","exports","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","component","valiadtors","text","validate","PreloaderImg","preLoaderWrapper","style","backgroundColor","preLoaderWrapperImg","alt","src","preLoader","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","count","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","isAuth","captchaUrl","getAuthUserdata","Success","url","authReducer","initialized","appReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","s","header","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","Navbar","nav","item","active","activeClassName","activeLink","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginationWrapper","index","key","selectedPage","e","User","user","acceptUnFollow","unfollow","acceptFollow","follow","usersList__item","small","userPhoto","usersPhoto","disabled","some","Users","usersList","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getAllUsersSelector","createSelector","UsersContainer","pageNumber","pageTitle","Fragment","bind","totalCount","setCurrentPage","toggleFollowingProgress","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","undefined","formSummaryError","CaptchaIsRequired","withSuspense","WrappedComponent","fallback","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","App","catchAllUnhandledErrors","initializeApp","addEventListener","removeEventListener","exact","path","render","promise","all","withRouter","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","whiteList","interpolation","escapeValue","ReactDOM","document","getElementById","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.72066762.chunk.js","sourcesContent":["import { postsType, profileType, photosType } from './../types/types';\r\nimport { profileAPI } from \"../api/api\";\r\nimport { stopSubmit, FormAction } from 'redux-form';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\n\r\nconst ADD_POST = 'SN/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'SN/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'SN/profile/SET_STATUS';\r\nconst DELETE_POST = 'SN/profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SN/profile/SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, How are you?', likesCount: 0 },\r\n    { id: 2, message: 'It is my new post', likesCount: 23 },\r\n    { id: 3, message: 'Blabla', likesCount: 8 },\r\n    { id: 4, message: 'Dada', likesCount: 11 }\r\n  ] as Array<postsType>,\r\n  profile: null as profileType | null,\r\n  status: \"\",\r\n};\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos } as profileType\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  AddPostActionCreator: (newPostText: string)  => ({ type: ADD_POST, newPostText } as const),\r\n  deletePost: (postId: number) => ({ type: DELETE_POST, postId } as const),\r\n  setUserProfile: (profile: profileType)  => ({ type: SET_USER_PROFILE, profile } as const),\r\n  setStatus :(status: string) => ({ type: SET_STATUS, status } as const),\r\n  savePhotoSuccess:(photos: photosType)  => ({ type: SAVE_PHOTO_SUCCESS, photos} as const)\r\n}\r\n\r\n\r\nexport const getUserProfile = (userId: number): ThunkType  => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n    dispatch(actions.setUserProfile(data));\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setStatus(data));\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType  => {\r\n  return async (dispatch) => {\r\n    try {\r\n      let data = await profileAPI.updateStatus(status);\r\n      if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status));\r\n      }\r\n    } catch (error) {\r\n      alert(error.message); // тут надо диспатчить ошибку\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const savePhoto = (file: File): ThunkType  => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(file);\r\n    if (data.resultCode === 0) {\r\n      dispatch(actions.savePhotoSuccess(data.data.photos));\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile: profileType) : ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n      if (userId != null) {\r\n        dispatch(getUserProfile(userId));\r\n      }\r\n     else {\r\n       throw new Error(\"userId can't be null\")\r\n     }\r\n    }\r\n    else {\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n      dispatch(stopSubmit(\"edit-profile\", { _error: message }));\r\n      return Promise.reject(response.data.messages[0]);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default profileReducer;","import axios from 'axios';\r\nimport { profileType, usersType, photosType  } from '../types/types';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"debbd9e5-51f4-44e1-b1d8-ad026688cc54\"\r\n  },\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport type GetItemsType = {\r\n  items: Array<usersType>,\r\n  totalCount: number,\r\n  error: string | null\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n  Success = 0,\r\n  Error = 1\r\n}\r\n\r\nexport enum ResultCodesForCaptcha {\r\n  CaptchaIsRequired = 10\r\n}\r\n\r\n type ResponseType<Data = {}, ResCode = ResultCodesEnum> = {\r\n  data: Data,\r\n  messages: Array<string>,\r\n  resultCode: ResCode\r\n}\r\n\r\ntype MeResponseDataType = {\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n}\r\n\r\ntype LoginResponseDataType = {\r\n  userId: number\r\n}\r\n\r\ntype SavePhotosResponseDataType = {\r\n  photos: photosType\r\n}\r\n\r\ntype GetCaptchaURlResponseType = {\r\nurl: string\r\n}\r\n\r\nexport const usersAPI = {\r\n  getUsers: (currentPage = 1, pageSize = 10) => {\r\n    return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}`,\r\n      {\r\n        withCredentials: true\r\n      }).then(response => {\r\n        return response.data;\r\n      });\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile: (userId: number) => {\r\n    return instance.get<profileType>(`profile/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  getStatus: (userId: number) => {\r\n    return instance.get<string>(`profile/status/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  updateStatus: (status: string) => {\r\n    return instance.put<ResponseType>(`profile/status/`, { status: status }).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  savePhoto: (image: File) => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", image)\r\n    return instance.put<ResponseType<SavePhotosResponseDataType>>(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then (response => response.data);\r\n  },\r\n  saveProfile: (profile: profileType) => {\r\n    return instance.put<ResponseType<profileType>>(`profile`, profile);\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  authMe: () => {\r\n    return instance.get<ResponseType<MeResponseDataType, ResultCodesEnum>>(`auth/me`).then(response => response.data);\r\n  },\r\n  login: (email: string, password: string, rememberMe: boolean = false, captcha: null | string = null) => {\r\n    return instance.post<ResponseType<LoginResponseDataType, ResultCodesEnum  | ResultCodesForCaptcha>>(`auth/login`, { email, password, rememberMe, captcha }).then(response => response.data);\r\n  },\r\n  logout: () => {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}\r\n\r\nexport const followAPI = {\r\n  toggleFollow: (userId: number) => {\r\n    return instance.post<ResponseType>(`follow/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  toggleUnFollow: (userId: number) => {\r\n    return instance.delete(`follow/` + userId).then(response =>  response.data) as Promise<ResponseType>;\r\n  }\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl: () => {\r\n    return instance.get<GetCaptchaURlResponseType>(`security/get-captcha-url`).then(response => response.data);\r\n  }\r\n}\r\n\r\n\r\n\r\n","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype dialogsType = {\r\n  id: number,\r\n  name: string\r\n}\r\n\r\ntype messagesType = {\r\n  id: number,\r\n  message: string\r\n}\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dimych' },\r\n    { id: 2, name: 'Andrey' },\r\n    { id: 3, name: 'Sveta' },\r\n    { id: 4, name: 'Sasha' },\r\n    { id: 5, name: 'Viktor' },\r\n    { id: 6, name: 'Valera' }\r\n  ] as Array<dialogsType>,\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'How is yout it-kamasutra?' },\r\n    { id: 3, message: 'Yo' },\r\n    { id: 4, message: 'Yo' },\r\n    { id: 5, message: 'Yo' }\r\n  ] as Array<messagesType>\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SN/dialogs/SEND_MESSAGE':\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\n\r\nexport const actions = {\r\n  sendMessage: (newMessageBody: string) => ({ type: 'SN/dialogs/SEND_MESSAGE', newMessageBody } as const)\r\n}\r\n\r\nexport default dialogsReducer;","module.exports = __webpack_public_path__ + \"static/media/user.0bacfc1a.jpg\";","module.exports = \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__UG0rM\",\"item\":\"Navbar_item__1xHtX\",\"activeLink\":\"Navbar_activeLink__2x_Aq\"};","import React, { ReactNode } from 'react';\r\nimport styles from './FormsControls.module.css';\r\nimport {\r\n  Field,\r\n  WrappedFieldInputProps,\r\n  WrappedFieldMetaProps,\r\n  WrappedFieldProps,\r\n} from 'redux-form';\r\nimport { FiledValidatorType } from '../../../../redux/utils/validators/validators';\r\n\r\ntype FormControlPropsType = {\r\n  input: WrappedFieldInputProps;\r\n  meta: WrappedFieldMetaProps;\r\n  children: ReactNode;\r\n};\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({\r\n  input,\r\n  meta: { touched, error },\r\n  children,\r\n}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n      <div>{children}</div>\r\n      {hasError && <span>\"{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport function createField<FormKeysType extends string>(\r\n  placeholder: string | undefined,\r\n  name: FormKeysType,\r\n  component: React.FC<WrappedFieldProps>,\r\n  valiadtors: Array<FiledValidatorType>,\r\n  props = {},\r\n  text = '',\r\n) {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={valiadtors}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport preLoader from './../../../assets/images/preloader.gif';\r\nimport styles from './../../Users/users.module.css';\r\n\r\nlet PreloaderImg: React.FC = (props) => {\r\n  return (\r\n    <div className={styles.preLoaderWrapper} style={{ backgroundColor: 'white' }}>\r\n      <img className={styles.preLoaderWrapperImg} alt=\"preloader\" src={preLoader} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreloaderImg;\r\n","let initialState = {}\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst sidebarReducer = (state = initialState, action: any) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n  return items.map(u => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}","import { usersType } from './../types/types';\r\nimport { usersAPI, followAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"./utils/objectsHelpers\";\r\nimport { appStateType, BaseThunkType, InferActionsTypes } from './redux-store';\r\nimport { Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\nlet initialState = {\r\n  users: [] as Array<usersType>,\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [] as Array<number> // array of users ids\r\n};\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case 'FOLLOW':\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n        /* как было до вспомогательной функции из ObjectsHelpers.js\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u\r\n        })\r\n        */\r\n      }\r\n    case 'UNFOLLOW':\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n        /* как было до вспомогательной функции из ObjectsHelpers.js\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u\r\n        })\r\n        */\r\n      }\r\n    case 'SET_USERS':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    case 'SET_CURRENT_PAGE':\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n    case 'SET_TOTAL_USERS_COUNT':\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count\r\n      }\r\n    case 'TOGGLE_IS_FETCHING':\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case 'TOGGLE_IS_FOLLOWING_PROGRESS':\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof actions>;\r\n\r\n\r\nexport const actions = {\r\n  follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n  unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n  setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n  setCurrentPage: (currentPage: number) => ({ type: 'SET_CURRENT_PAGE', currentPage } as const),\r\n  setTotalUsersCount: (totalUsersCount: number) => ({ type: 'SET_TOTAL_USERS_COUNT', count: totalUsersCount } as const),\r\n  toggleIsFetching: (isFetching: boolean) => ({ type: 'TOGGLE_IS_FETCHING', isFetching } as const),\r\n  toggleFollowingProgress: (isFetching: boolean, userId: number) => ({ type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const)\r\n}\r\n\r\ntype GetStateType = () => appStateType;\r\ntype DispatchType = Dispatch<ActionsTypes>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number): ThunkType => {\r\n  return async (dispatch, getState: GetStateType) => {\r\n    dispatch(actions.toggleIsFetching(true));\r\n    dispatch(actions.setCurrentPage(currentPage));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(actions.toggleIsFetching(false));\r\n    dispatch(actions.setUsers(data.items));\r\n    dispatch(actions.setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, userId: number, apiMethod: any, actionCreator: (userId: number) => ActionsTypes) => {\r\n  dispatch(actions.toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(actions.toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const acceptFollow = (userId: number): ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    followUnfollowFlow(dispatch, userId, followAPI.toggleFollow.bind(followAPI), actions.follow);\r\n\r\n  }\r\n}\r\n\r\nexport const acceptUnFollow = (userId: number): ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    followUnfollowFlow(dispatch, userId, followAPI.toggleUnFollow.bind(followAPI), actions.unfollow);\r\n\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import { authAPI, ResultCodesEnum, ResultCodesForCaptcha, securityAPI } from \"../api/api\";\r\nimport { FormAction, stopSubmit } from \"redux-form\";\r\nimport { BaseThunkType, InferActionsTypes } from \"./redux-store\";\r\nimport { Action } from \"redux\";\r\n\r\nlet initialState = {\r\n  userId: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isAuth: false as boolean,\r\n  captchaUrl: null as string | null\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case 'SN/auth/SET_USER_DATA':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => (\r\n    {\r\n      type: 'SN/auth/SET_USER_DATA',\r\n      data: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n      }\r\n    } as const\r\n  ),\r\n  getCaptchaUrlSuccess: (captchaUrl: string)  => (\r\n    {\r\n      type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS',\r\n      data: {\r\n        captchaUrl\r\n      }\r\n    } as const\r\n  )\r\n}\r\n\r\nexport const getAuthUserdata = (): ThunkType => async (dispatch) => {\r\n  let response = await authAPI.authMe();\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    let { id, email, login } = response.data;\r\n    dispatch(actions.setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(getAuthUserdata())\r\n  }\r\n  else {\r\n    if (response.resultCode === ResultCodesForCaptcha.CaptchaIsRequired) {\r\n      dispatch(getCaptchaUrl);\r\n    }\r\n    let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n  const data = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = data.url;\r\n  dispatch(actions.getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = ():ThunkType => async (dispatch: any) => { /*с async - await*/\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actions.setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\n/* с коллбэком then\r\nexport const logout = () => (dispatch) => { \r\n  authAPI.logout()\r\n    .then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n      }\r\n    });\r\n}\r\n*/\r\n\r\nexport default authReducer;","import { Dispatch } from \"redux\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { getAuthUserdata } from \"./authReducer\";\r\nimport { InferActionsTypes, appStateType, BaseThunkType} from \"./redux-store\";\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes ): initialStateType => {\r\n  switch (action.type) {\r\n    case 'SN/APP/INITIALIZED_SUCCESS':\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\nexport const initializeApp = ()  => (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserdata());\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(actions.initializedSuccess());\r\n    })\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, compose, applyMiddleware, Action } from \"redux\";\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nlet rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n});\r\n\r\ntype rootReducerType = typeof rootReducer;\r\nexport type appStateType = ReturnType<rootReducerType>;\r\n\r\ntype PropertiesType<Type> = Type extends {[key: string]: infer AC} ? AC : never;\r\nexport type InferActionsTypes<Type extends {[key: string]: (...args: any[])=> any}> = ReturnType<PropertiesType<Type>>\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, appStateType, unknown, A>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport type MapStatePropsType = {\r\n  isAuth: boolean;\r\n  login: string | null;\r\n};\r\n\r\nexport type MapDispatchPropsType = {\r\n  logout: () => void;\r\n};\r\n\r\nconst Header: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://www.logogenie.net/download/preview/medium/3589659\" />\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {' '}\r\n            {props.login} - <button onClick={props.logout}>Logout</button>{' '}\r\n          </div>\r\n        ) : (\r\n          <NavLink to={'/login'}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header, { MapStatePropsType, MapDispatchPropsType } from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/authReducer';\r\nimport { appStateType } from '../../redux/redux-store';\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = (state: appStateType) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, appStateType>(mapStateToProps, {\r\n  logout,\r\n})(HeaderContainer);\r\n","import React, { Component } from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>News</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\ntype PropTypes = {\r\n  totalUsersCount: number;\r\n  pageSize: number;\r\n  onPageChanged?: (pageNumber: number) => void;\r\n  currentPage?: number;\r\n  portionSize?: number;\r\n};\r\n\r\nlet Paginator: React.FC<PropTypes> = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged = () => {},\r\n  currentPage = 1,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages: Array<number> = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState<number>(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={cn(styles.paginationWrapper)}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}>\r\n          Prev\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p, index) => {\r\n          return (\r\n            <span\r\n              key={index}\r\n              className={cn(currentPage === p && styles.selectedPage)}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}>\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}>\r\n          Next\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from \"../../assets/images/user.jpg\"\r\nimport { NavLink } from 'react-router-dom'\r\nimport { usersType } from '../../types/types';\r\n\r\n\r\ntype PropsType = {\r\n  user: usersType,\r\n  followingInProgress: Array<number>,\r\n  unfollow: (userId: number) => void,\r\n  follow: (userId: number) => void,\r\n  acceptUnFollow: (userId: number) => void,\r\n  acceptFollow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({ user, followingInProgress, acceptUnFollow, unfollow, acceptFollow, follow }) => {\r\n  return (\r\n    <div className={styles.usersList__item}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img alt=\"profile\" src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.usersPhoto} />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed\r\n            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              acceptUnFollow(user.id)\r\n              unfollow(user.id)\r\n            }} >Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              acceptFollow(user.id)\r\n              follow(user.id)\r\n            }}>Follow</button>}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n      </span>\r\n      <span>\r\n        <div>{\"u.location.country\"}</div>\r\n        <div>{\"u.location.city\"}</div>\r\n      </span>\r\n    </div>)\r\n\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport Paginator from '../common/Preloader/Paginator/Paginator';\r\nimport User from './User'\r\nimport { usersType } from '../../types/types';\r\n\r\ntype PropTypes = {\r\n  totalUsersCount: number,\r\n  pageSize: number,\r\n  onPageChanged: (pageNumber: number) => void,\r\n  currentPage: number,\r\n  portionSize?: number,\r\n  users: Array<usersType>,\r\n  followingInProgress: Array<number>,\r\n  acceptUnFollow: (userId: number) => void,\r\n  acceptFollow: (userId: number) => void,\r\n  follow: (userId: number) => void,\r\n  unfollow: (userId: number) => void,\r\n\r\n}\r\n\r\nlet Users: React.FC<PropTypes> = ({ currentPage, onPageChanged, totalUsersCount, pageSize, users, ...props }) => {\r\n  return (\r\n    <div>\r\n      <Paginator currentPage={currentPage} onPageChanged={onPageChanged} totalUsersCount={totalUsersCount} pageSize={pageSize} />\r\n      <div className={styles.usersList}>\r\n        {users.map(u => <User user={u} key={u.id}\r\n          followingInProgress={props.followingInProgress} acceptUnFollow={props.acceptUnFollow}\r\n          unfollow={props.unfollow} acceptFollow={props.acceptFollow} follow={props.follow}\r\n        />)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\nimport { appStateType } from \"./redux-store\";\r\n\r\nconst getAllUsers = (state: appStateType) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state: appStateType) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: appStateType) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: appStateType) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: appStateType) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: appStateType) => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n\r\n/*Selectors, created by reselect library*/\r\n\r\nexport const getAllUsersSelector = createSelector(\r\n  getAllUsers, (users) => {\r\n    return users.filter(u => true);\r\n  }\r\n)\r\n","import React, { Dispatch } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getUsers,\r\n  acceptFollow, acceptUnFollow, actions \r\n} from '../../redux/usersReducer';\r\nimport Users from \"./Users\";\r\nimport PreloaderImg from '../common/Preloader/PreloaderImg';\r\nimport {\r\n  getAllUsersSelector, getPageSize, getTotalUsersCount,\r\n  getCurrentPage, getIsFetching, getFollowingInProgress\r\n} from '../../redux/usersSelectors';\r\nimport { compose } from 'redux'\r\nimport { usersType } from '../../types/types';\r\nimport { appStateType } from '../../redux/redux-store';\r\n\r\ntype MapStatePropTypes = {\r\n  currentPage: number,\r\n  pageSize: number,\r\n  isFetching: boolean,\r\n  totalUsersCount: number,\r\n  followingInProgress: Array<number>,\r\n  users: Array<usersType>,\r\n}\r\n\r\ntype MapDispatchPropTypes = {\r\n  acceptUnFollow: (userId: number) => void,\r\n  acceptFollow: (userId: number) => void,\r\n  follow: (userId: number) => void,\r\n  unfollow: (userId: number) => void,\r\n  getUsers: (currentPage: number, pageSize: number) => void,\r\n  setCurrentPage: (currentPage: number) => void,\r\n  toggleFollowingProgress: (isFetching: boolean, userId: number) => void\r\n}\r\n\r\ntype OwnPropTypes = {\r\n  pageTitle: string,\r\n}\r\n\r\n\r\ntype PropTypes = MapStatePropTypes & MapDispatchPropTypes & OwnPropTypes;\r\n\r\n\r\nclass UsersContainer extends React.Component<PropTypes> {\r\n  componentDidMount() {\r\n    const { currentPage, pageSize } = this.props;\r\n    this.props.getUsers(currentPage, pageSize);\r\n  }\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    const { pageSize } = this.props;\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  }\r\n\r\n  render() {\r\n    const { pageTitle, isFetching, pageSize, totalUsersCount, currentPage, users, follow, unfollow, followingInProgress, acceptFollow, acceptUnFollow } = this.props;\r\n    return <React.Fragment>\r\n      <h2>{pageTitle}</h2>\r\n      {isFetching ? <PreloaderImg /> : null}\r\n      <Users totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        users={users}\r\n        follow={follow}\r\n        unfollow={unfollow}\r\n        followingInProgress={followingInProgress}\r\n        acceptFollow={acceptFollow}\r\n        acceptUnFollow={acceptUnFollow}\r\n      />\r\n    </React.Fragment>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: appStateType): MapStatePropTypes => {\r\n  return {\r\n    users: getAllUsersSelector(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state)\r\n  }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch: Dispatch<any>):MapDispatchPropTypes  =>{\r\n  return {  \r\n    acceptUnFollow: (userId: number) => {\r\n      dispatch(acceptUnFollow(userId))\r\n    },\r\n    acceptFollow: (userId: number) => {\r\n      dispatch(acceptFollow(userId))\r\n    },\r\n    follow: (userId: number) => {\r\n      dispatch(actions.follow(userId))\r\n    },\r\n    unfollow: (userId: number) => {\r\n      dispatch(actions.unfollow(userId))\r\n    },\r\n    getUsers: (currentPage: number, pageSize: number) => {\r\n      dispatch(getUsers(currentPage, pageSize))\r\n    },\r\n    setCurrentPage: (currentPage: number) => {\r\n      dispatch( actions.setCurrentPage(currentPage))\r\n    },\r\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => {\r\n      dispatch(actions.toggleFollowingProgress(isFetching, userId))\r\n    }\r\n}\r\n}\r\n\r\nexport default compose(\r\n  connect<MapStatePropTypes, MapDispatchPropTypes, OwnPropTypes, appStateType>(mapStateToProps, mapDispatchToProps))(UsersContainer);\r\n","import React from 'react'\r\nimport { InjectedFormProps, reduxForm } from 'redux-form'\r\nimport { Input, createField} from '../common/Preloader/FormsControls/FormsControls';\r\nimport { required } from '../../redux/utils/validators/validators';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/authReducer';\r\nimport { Redirect } from 'react-router-dom';\r\nimport styles from \"../../components/common/Preloader/FormsControls/FormsControls.module.css\"\r\nimport { appStateType } from '../../redux/redux-store';\r\n\r\ntype LoginFormOwnProps = {\r\n  captchaUrl: string | null\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<LoginFormValuesType, LoginFormOwnProps > & LoginFormOwnProps > = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField<LoginFormValuesTypeKeys>(\"Email\", \"email\", Input, [required])}\r\n      {createField<LoginFormValuesTypeKeys>(\"Password\", \"password\", Input, [required], { type: \"password\" })}\r\n      {createField<LoginFormValuesTypeKeys>(undefined, \"rememberMe\", Input, [required], { type: \"checkbox\" }, \"remember me\")}\r\n\r\n      {captchaUrl && <img alt=\"captcha\" src={captchaUrl} />}\r\n      {captchaUrl && createField<LoginFormValuesTypeKeys>(\"Symbols from image\", \"captcha\", Input, [required])}\r\n\r\n      {error && <div className={styles.formSummaryError}>\r\n        {error}\r\n      </div>\r\n      }\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType , LoginFormOwnProps>({\r\n  form: \"login\"\r\n})(LoginForm);\r\n\r\ntype MapStatePropsType = {\r\n  isAuth: boolean,\r\n  captchaUrl: string | null\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n  login: (email: string, password: string, rememberMe: boolean, captcha: string) => void\r\n}\r\n\r\nexport type LoginFormValuesType = {\r\n  email: string,\r\n  password: string,\r\n  rememberMe: boolean,\r\n  captcha: string\r\n}\r\n\r\ntype LoginFormValuesTypeKeys = Extract<keyof LoginFormValuesType , string>;\r\n\r\nconst Login: React.FC<MapStatePropsType & MapDispatchPropsType > = (props) => {\r\n  const onSubmit = (formData: LoginFormValuesType) => {\r\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n  }\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />\r\n  }\r\n  return <div>\r\n    <h1>Login</h1>\r\n    <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = (state: appStateType): MapStatePropsType => ({\r\n  isAuth: state.auth.isAuth,\r\n  captchaUrl: state.auth.captchaUrl\r\n})\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n\r\n","import React, { Suspense } from 'react';\r\nimport PreloaderImg from '../components/common/Preloader/PreloaderImg';\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n  return (props: WCP) => {\r\n    return (\r\n      <Suspense fallback={<PreloaderImg />}>\r\n        <WrappedComponent {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n}\r\n","import React, { Suspense } from 'react';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport Login from './components/Login/Login';\r\nimport PreloaderImg from './components/common/Preloader/PreloaderImg';\r\nimport './App.css';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { compose } from 'redux';\r\nimport { withSuspense } from './hoc/WithSuspense';\r\nimport { appStateType } from './redux/redux-store';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst SuspendedDialogs = withSuspense(DialogsContainer);\r\nconst SuspendedProfile = withSuspense(ProfileContainer);\r\n\r\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>;\r\ntype DispatchPropsType = {\r\n  initializeApp: () => void;\r\n};\r\n\r\nclass App extends React.Component<MapStatePropsType & DispatchPropsType> {\r\n  catchAllUnhandledErrors = (e: Event | PromiseRejectionEvent) => {\r\n    alert('Some Error occured');\r\n  };\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener('unhandlerejection', this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('unhandlerejection', this.catchAllUnhandledErrors);\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <PreloaderImg />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />} />\r\n            <Route path=\"/dialogs\" render={() => <SuspendedDialogs />} />\r\n            <Route path=\"/profile/:userId?\" render={() => <SuspendedProfile />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer pageTitle={'Users'} />} />\r\n            <Route path=\"/login\" render={() => <Login />} />\r\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: appStateType) => ({\r\n  initialized: state.app.initialized,\r\n});\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, { initializeApp }),\r\n  withRouter,\r\n)(App);\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n// don't want to use this?\r\n// have a look at the Quick start guide \r\n// for passing in lng and translations on init\r\n\r\nconst Languages = ['en','uk','ru']\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  .use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    fallbackLng: 'en',\r\n    debug: true,\r\n    whiteList: Languages,\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\n\r\nexport default i18n;","import store from \"./redux/redux-store\"\r\nimport React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\nimport { Provider } from \"react-redux\";\r\nimport './i18next';\r\nimport PreloaderImg from \"./components/common/Preloader/PreloaderImg\";\r\n\r\n\r\nReactDOM.render(\r\n  <HashRouter /*basename={process.env.PUBLIC_URL} - это строка нужна для BrowserRouter для github pages*/>\r\n    <Provider store={store}>\r\n      <Suspense fallback={<PreloaderImg />}>\r\n        <App />\r\n      </Suspense>\r\n    </Provider>\r\n  </HashRouter>, document.getElementById('root'));\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preLoaderWrapper\":\"users_preLoaderWrapper__b8Ph8\",\"usersPhoto\":\"users_usersPhoto__1sNoJ\",\"usersList\":\"users_usersList__3bAch\",\"usersList__item\":\"users_usersList__item__1A002\"};","export type FiledValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport const required: FiledValidatorType = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number):FiledValidatorType   =>\r\n  (value) => {\r\n    if (value.length > maxLength) return `Max length of ${maxLength} symbols has been exceeded`;\r\n    return undefined\r\n  } \r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1snGJ\",\"error\":\"FormsControls_error__2Ned1\",\"formSummaryError\":\"FormsControls_formSummaryError__3VOcO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1XB8C\",\"loginBlock\":\"Header_loginBlock__1Nsg4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3HSXm\",\"paginationWrapper\":\"Paginator_paginationWrapper__1F3s1\"};"],"sourceRoot":""}