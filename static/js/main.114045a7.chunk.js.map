{"version":3,"sources":["components/Header/Header.module.css","components/common/Preloader/Paginator/Paginator.module.css","redux/profileReducer.ts","redux/dialogsReducer.ts","api/api.ts","assets/images/user.jpg","assets/images/preloader.gif","components/Navbar/Navbar.module.css","components/common/Preloader/FormsControls/FormsControls.tsx","redux/sidebarReducer.ts","redux/utils/objectsHelpers.ts","redux/usersReducer.ts","redux/authReducer.ts","redux/appReducer.ts","redux/redux-store.ts","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Navbar/Navbar.jsx","components/LoginPage/LoginPage.tsx","hoc/WithSuspense.tsx","redux/usersSelectors.ts","components/common/Preloader/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/UsersSearchForm/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersPage.tsx","App.tsx","i18next.js","index.tsx","components/common/Preloader/PreloaderImg.tsx","components/Users/users.module.css","redux/utils/validators/validators.ts","components/common/Preloader/FormsControls/FormsControls.module.css"],"names":["module","exports","ADD_POST","SET_STATUS","DELETE_POST","initialState","posts","id","message","likesCount","profile","status","actions","AddPostActionCreator","newPostText","type","deletePost","postId","setUserProfile","setStatus","savePhotoSuccess","photos","getUserProfile","userId","dispatch","a","profileAPI","getProfile","data","getStatus","updateStatus","resultCode","alert","savePhoto","file","saveProfile","getState","auth","response","Error","messages","length","stopSubmit","_error","Promise","reject","profileReducer","state","action","newPost","filter","p","dialogs","name","sendMessage","newMessageBody","dialogsReducer","body","ResultCodesEnum","ResultCodesForCaptcha","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","term","friend","get","then","put","image","formData","FormData","append","authAPI","authMe","login","email","password","rememberMe","captcha","post","logout","delete","followAPI","toggleFollow","toggleUnFollow","securityAPI","getCaptchaUrl","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","Input","createField","placeholder","component","valiadtors","text","validate","sidebarReducer","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","followingInProgress","count","payload","totalCount","usersReducer","followed","isAuth","captchaUrl","getAuthUserdata","Success","url","authReducer","initialized","appReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","usersPage","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","s","header","src","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","Navbar","nav","item","active","activeClassName","activeLink","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","undefined","alt","formSummaryError","LoginPage","useDispatch","useSelector","CaptchaIsRequired","withSuspense","WrappedComponent","fallback","PreloaderImg","getAllUsers","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getUsersFilter","createSelector","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginationWrapper","index","key","selectedPage","e","User","user","acceptUnFollow","unfollow","acceptFollow","follow","usersList__item","small","userPhoto","usersPhoto","disabled","some","usersSearchFormValidate","values","UsersSearchForm","memo","onFilterChanged","initialValues","setSubmitting","isSubmitting","as","value","Users","useEffect","pageNumber","usersList","UsersPage","pageTitle","Fragment","DialogsContainer","lazy","ProfileContainer","SuspendedDialogs","SuspendedProfile","App","catchAllUnhandledErrors","initializeApp","addEventListener","removeEventListener","exact","path","render","promise","all","withRouter","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","debug","whiteList","interpolation","escapeValue","ReactDOM","document","getElementById","preLoaderWrapper","style","backgroundColor","preLoaderWrapperImg","preLoader","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.114045a7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1XB8C\",\"loginBlock\":\"Header_loginBlock__1Nsg4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3HSXm\",\"paginationWrapper\":\"Paginator_paginationWrapper__1F3s1\"};","import { postsType, profileType, photosType } from './../types/types';\r\nimport { profileAPI } from \"../api/api\";\r\nimport { stopSubmit, FormAction } from 'redux-form';\r\nimport { BaseThunkType, InferActionsTypes } from './redux-store';\r\n\r\nconst ADD_POST = 'SN/profile/ADD-POST';\r\nconst SET_USER_PROFILE = 'SN/profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'SN/profile/SET_STATUS';\r\nconst DELETE_POST = 'SN/profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SN/profile/SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Hi, How are you?', likesCount: 0 },\r\n    { id: 2, message: 'It is my new post', likesCount: 23 },\r\n    { id: 3, message: 'Blabla', likesCount: 8 },\r\n    { id: 4, message: 'Dada', likesCount: 11 }\r\n  ] as Array<postsType>,\r\n  profile: null as profileType | null,\r\n  status: \"\",\r\n};\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\n\r\nconst profileReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost],\r\n      }\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos } as profileType\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  AddPostActionCreator: (newPostText: string)  => ({ type: ADD_POST, newPostText } as const),\r\n  deletePost: (postId: number) => ({ type: DELETE_POST, postId } as const),\r\n  setUserProfile: (profile: profileType)  => ({ type: SET_USER_PROFILE, profile } as const),\r\n  setStatus :(status: string) => ({ type: SET_STATUS, status } as const),\r\n  savePhotoSuccess:(photos: photosType)  => ({ type: SAVE_PHOTO_SUCCESS, photos} as const)\r\n}\r\n\r\n\r\nexport const getUserProfile = (userId: number): ThunkType  => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.getProfile(userId)\r\n    dispatch(actions.setUserProfile(data));\r\n  }\r\n}\r\n\r\nexport const getStatus = (userId: number): ThunkType => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(actions.setStatus(data));\r\n  }\r\n}\r\n\r\nexport const updateStatus = (status: string): ThunkType  => {\r\n  return async (dispatch) => {\r\n    try {\r\n      let data = await profileAPI.updateStatus(status);\r\n      if (data.resultCode === 0) {\r\n        dispatch(actions.setStatus(status));\r\n      }\r\n    } catch (error) {\r\n      alert(error.message); // тут надо диспатчить ошибку\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const savePhoto = (file: File): ThunkType  => {\r\n  return async (dispatch) => {\r\n    let data = await profileAPI.savePhoto(file);\r\n    if (data.resultCode === 0) {\r\n      dispatch(actions.savePhotoSuccess(data.data.photos));\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile: profileType) : ThunkType => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n      if (userId != null) {\r\n        dispatch(getUserProfile(userId));\r\n      }\r\n     else {\r\n       throw new Error(\"userId can't be null\")\r\n     }\r\n    }\r\n    else {\r\n      let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n      dispatch(stopSubmit(\"edit-profile\", { _error: message }));\r\n      return Promise.reject(response.data.messages[0]);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default profileReducer;","import { InferActionsTypes } from \"./redux-store\";\r\n\r\ntype dialogsType = {\r\n  id: number,\r\n  name: string\r\n}\r\n\r\ntype messagesType = {\r\n  id: number,\r\n  message: string\r\n}\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Dimych' },\r\n    { id: 2, name: 'Andrey' },\r\n    { id: 3, name: 'Sveta' },\r\n    { id: 4, name: 'Sasha' },\r\n    { id: 5, name: 'Viktor' },\r\n    { id: 6, name: 'Valera' }\r\n  ] as Array<dialogsType>,\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'How is yout it-kamasutra?' },\r\n    { id: 3, message: 'Yo' },\r\n    { id: 4, message: 'Yo' },\r\n    { id: 5, message: 'Yo' }\r\n  ] as Array<messagesType>\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType): initialStateType => {\r\n\r\n  switch (action.type) {\r\n    case 'SN/dialogs/SEND_MESSAGE':\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 6, message: body }]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>;\r\n\r\nexport const actions = {\r\n  sendMessage: (newMessageBody: string) => ({ type: 'SN/dialogs/SEND_MESSAGE', newMessageBody } as const)\r\n}\r\n\r\nexport default dialogsReducer;","import axios from 'axios';\r\nimport { profileType, usersType, photosType  } from '../types/types';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"debbd9e5-51f4-44e1-b1d8-ad026688cc54\"\r\n  },\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n})\r\n\r\nexport type GetItemsType = {\r\n  items: Array<usersType>,\r\n  totalCount: number,\r\n  error: string | null\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n  Success = 0,\r\n  Error = 1\r\n}\r\n\r\nexport enum ResultCodesForCaptcha {\r\n  CaptchaIsRequired = 10\r\n}\r\n\r\n export type ResponseType<Data = {}, ResCode = ResultCodesEnum> = {\r\n  data: Data,\r\n  messages: Array<string>,\r\n  resultCode: ResCode\r\n}\r\n\r\ntype MeResponseDataType = {\r\n    id: number,\r\n    email: string,\r\n    login: string\r\n}\r\n\r\ntype LoginResponseDataType = {\r\n  userId: number\r\n}\r\n\r\ntype SavePhotosResponseDataType = {\r\n  photos: photosType\r\n}\r\n\r\ntype GetCaptchaURlResponseType = {\r\nurl: string\r\n}\r\n\r\nexport const usersAPI = {\r\n  getUsers: (currentPage = 1, pageSize = 10, term: string = '', friend: null | boolean = null) => {\r\n    return instance.get<GetItemsType>(`users?page=${currentPage}&count=${pageSize}&term=${term}` + (friend === null ? '' :  `&friend=${friend}`)).then(response => {\r\n        return response.data;\r\n      });\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getProfile: (userId: number) => {\r\n    return instance.get<profileType>(`profile/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  getStatus: (userId: number) => {\r\n    return instance.get<string>(`profile/status/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  updateStatus: (status: string) => {\r\n    return instance.put<ResponseType>(`profile/status/`, { status: status }).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  savePhoto: (image: File) => {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", image)\r\n    return instance.put<ResponseType<SavePhotosResponseDataType>>(`profile/photo`, formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then (response => response.data);\r\n  },\r\n  saveProfile: (profile: profileType) => {\r\n    return instance.put<ResponseType<profileType>>(`profile`, profile);\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  authMe: () => {\r\n    return instance.get<ResponseType<MeResponseDataType, ResultCodesEnum>>(`auth/me`).then(response => response.data);\r\n  },\r\n  login: (email: string, password: string, rememberMe: boolean = false, captcha: null | string = null) => {\r\n    return instance.post<ResponseType<LoginResponseDataType, ResultCodesEnum  | ResultCodesForCaptcha>>(`auth/login`, { email, password, rememberMe, captcha }).then(response => response.data);\r\n  },\r\n  logout: () => {\r\n    return instance.delete(`auth/login`);\r\n  }\r\n}\r\n\r\nexport const followAPI = {\r\n  toggleFollow: (userId: number) => {\r\n    return instance.post<ResponseType>(`follow/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  toggleUnFollow: (userId: number) => {\r\n    return instance.delete(`follow/` + userId).then(response =>  response.data) as Promise<ResponseType>;\r\n  }\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl: () => {\r\n    return instance.get<GetCaptchaURlResponseType>(`security/get-captcha-url`).then(response => response.data);\r\n  }\r\n}\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/user.0bacfc1a.jpg\";","module.exports = \"data:image/gif;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__UG0rM\",\"item\":\"Navbar_item__1xHtX\",\"activeLink\":\"Navbar_activeLink__2x_Aq\"};","import React, { ReactNode } from 'react';\r\nimport styles from './FormsControls.module.css';\r\nimport {\r\n  Field,\r\n  WrappedFieldInputProps,\r\n  WrappedFieldMetaProps,\r\n  WrappedFieldProps,\r\n} from 'redux-form';\r\nimport { FiledValidatorType } from '../../../../redux/utils/validators/validators';\r\n\r\ntype FormControlPropsType = {\r\n  input: WrappedFieldInputProps;\r\n  meta: WrappedFieldMetaProps;\r\n  children: ReactNode;\r\n};\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({\r\n  input,\r\n  meta: { touched, error },\r\n  children,\r\n}) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n      <div>{children}</div>\r\n      {hasError && <span>\"{error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n  const { input, meta, ...restProps } = props;\r\n  return (\r\n    <FormControl {...props}>\r\n      <input {...input} {...restProps} />\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport function createField<FormKeysType extends string>(\r\n  placeholder: string | undefined,\r\n  name: FormKeysType,\r\n  component: React.FC<WrappedFieldProps>,\r\n  valiadtors: Array<FiledValidatorType>,\r\n  props = {},\r\n  text = '',\r\n) {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        name={name}\r\n        component={component}\r\n        validate={valiadtors}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n}\r\n","let initialState = {}\r\n\r\nexport type initialStateType = typeof initialState;\r\n\r\nconst sidebarReducer = (state = initialState, action: any) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { usersType } from \"../../types/types\"\r\n\r\nexport const updateObjectInArray = (items: Array<usersType>, itemId: number, objPropName: string, newObjProps: { followed: boolean }) => {\r\n  return items.map(u => {\r\n    if (u[objPropName as keyof usersType] === itemId) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u\r\n  })\r\n}","import { usersType } from './../types/types';\r\nimport { usersAPI, followAPI, ResponseType } from \"../api/api\";\r\nimport { updateObjectInArray } from \"./utils/objectsHelpers\";\r\nimport { appStateType, BaseThunkType, InferActionsTypes } from './redux-store';\r\nimport { Dispatch } from 'redux';\r\n\r\nlet initialState = {\r\n  users: [] as Array<usersType>,\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [] as Array<number>, // array of users ids\r\n  filter: {\r\n    term: '',\r\n    friend: null as null | boolean\r\n  }\r\n};\r\n\r\nexport type initialStateType = typeof initialState;\r\nexport type filterType = typeof initialState.filter;\r\n\r\nconst usersReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case 'FOLLOW':\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n        /* как было до вспомогательной функции из ObjectsHelpers.js\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: true }\r\n          }\r\n          return u\r\n        })\r\n        */\r\n      }\r\n    case 'UNFOLLOW':\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n        /* как было до вспомогательной функции из ObjectsHelpers.js\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return { ...u, followed: false }\r\n          }\r\n          return u\r\n        })\r\n        */\r\n      }\r\n    case 'SET_USERS':\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n    case 'SET_CURRENT_PAGE':\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n    case 'SET_TOTAL_USERS_COUNT':\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count\r\n      }\r\n    case 'TOGGLE_IS_FETCHING':\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case 'TOGGLE_IS_FOLLOWING_PROGRESS':\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n      case 'SET_FILTER':\r\n        return {\r\n          ...state,\r\n          filter: action.payload\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport type ActionsTypes = InferActionsTypes<typeof actions>;\r\n\r\n\r\nexport const actions = {\r\n  follow: (userId: number) => ({ type: 'FOLLOW', userId } as const),\r\n  unfollow: (userId: number) => ({ type: 'UNFOLLOW', userId } as const),\r\n  setUsers: (users: Array<usersType>) => ({ type: 'SET_USERS', users } as const),\r\n  setCurrentPage: (currentPage: number) => ({ type: 'SET_CURRENT_PAGE', currentPage } as const),\r\n  setTotalUsersCount: (totalUsersCount: number) => ({ type: 'SET_TOTAL_USERS_COUNT', count: totalUsersCount } as const),\r\n  toggleIsFetching: (isFetching: boolean) => ({ type: 'TOGGLE_IS_FETCHING', isFetching } as const),\r\n  toggleFollowingProgress: (isFetching: boolean, userId: number) => ({ type: 'TOGGLE_IS_FOLLOWING_PROGRESS', isFetching, userId } as const),\r\n  setFilter : (filter: filterType) => ({ type: 'SET_FILTER', payload: filter } as const)\r\n}\r\n\r\ntype GetStateType = () => appStateType;\r\ntype DispatchType = Dispatch<ActionsTypes>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number, filter: filterType): ThunkType => {\r\n  return async (dispatch, getState: GetStateType) => {\r\n    dispatch(actions.toggleIsFetching(true));\r\n    dispatch(actions.setCurrentPage(currentPage));\r\n    dispatch(actions.setFilter(filter));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend);\r\n    dispatch(actions.toggleIsFetching(false));\r\n    dispatch(actions.setUsers(data.items));\r\n    dispatch(actions.setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: DispatchType, userId: number, apiMethod: (userId: number) => Promise<ResponseType>, actionCreator: (userId: number) => ActionsTypes) => {\r\n  dispatch(actions.toggleFollowingProgress(true, userId));\r\n  let data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(actions.toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const acceptFollow = (userId: number): ThunkType => {\r\n  return async (dispatch, getState: GetStateType) => {\r\n    await followUnfollowFlow(dispatch, userId, followAPI.toggleFollow.bind(followAPI), actions.follow);\r\n\r\n  }\r\n}\r\n\r\nexport const acceptUnFollow = (userId: number): ThunkType => {\r\n  return async (dispatch, getState:  GetStateType) => {\r\n    await followUnfollowFlow(dispatch, userId, followAPI.toggleUnFollow.bind(followAPI), actions.unfollow);\r\n\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import { authAPI, ResultCodesEnum, ResultCodesForCaptcha, securityAPI } from \"../api/api\";\r\nimport { FormAction, stopSubmit } from \"redux-form\";\r\nimport { BaseThunkType, InferActionsTypes } from \"./redux-store\";\r\nimport { Action } from \"redux\";\r\n\r\nlet initialState = {\r\n  userId: null as number | null,\r\n  email: null as string | null,\r\n  login: null as string | null,\r\n  isAuth: false as boolean,\r\n  captchaUrl: null as string | null\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ThunkType = BaseThunkType<ActionsTypes | FormAction>\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\n\r\nconst authReducer = (state = initialState, action: ActionsTypes): initialStateType => {\r\n  switch (action.type) {\r\n    case 'SN/auth/SET_USER_DATA':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    case 'SN/auth/GET_CAPTCHA_URL_SUCCESS':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const actions = {\r\n  setAuthUserData: (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => (\r\n    {\r\n      type: 'SN/auth/SET_USER_DATA',\r\n      data: {\r\n        userId,\r\n        email,\r\n        login,\r\n        isAuth\r\n      }\r\n    } as const\r\n  ),\r\n  getCaptchaUrlSuccess: (captchaUrl: string)  => (\r\n    {\r\n      type: 'SN/auth/GET_CAPTCHA_URL_SUCCESS',\r\n      data: {\r\n        captchaUrl\r\n      }\r\n    } as const\r\n  )\r\n}\r\n\r\nexport const getAuthUserdata = (): ThunkType => async (dispatch) => {\r\n  let response = await authAPI.authMe();\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    let { id, email, login } = response.data;\r\n    dispatch(actions.setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string): ThunkType => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(getAuthUserdata())\r\n  }\r\n  else {\r\n    if (response.resultCode === ResultCodesForCaptcha.CaptchaIsRequired) {\r\n      dispatch(getCaptchaUrl);\r\n    }\r\n    let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n    dispatch(stopSubmit(\"login\", { _error: message }));\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n  const data = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = data.url;\r\n  dispatch(actions.getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const logout = ():ThunkType => async (dispatch: any) => { /*с async - await*/\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === ResultCodesEnum.Success) {\r\n    dispatch(actions.setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\n/* с коллбэком then\r\nexport const logout = () => (dispatch) => { \r\n  authAPI.logout()\r\n    .then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n      }\r\n    });\r\n}\r\n*/\r\n\r\nexport default authReducer;","import { Dispatch } from \"redux\";\r\nimport { ThunkAction } from \"redux-thunk\";\r\nimport { getAuthUserdata } from \"./authReducer\";\r\nimport { InferActionsTypes, appStateType, BaseThunkType} from \"./redux-store\";\r\n\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nexport type initialStateType = typeof initialState;\r\ntype ActionsTypes = InferActionsTypes<typeof actions>;\r\ntype ThunkType = BaseThunkType<ActionsTypes>\r\n\r\nconst appReducer = (state = initialState, action: ActionsTypes ): initialStateType => {\r\n  switch (action.type) {\r\n    case 'SN/APP/INITIALIZED_SUCCESS':\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\nexport const initializeApp = ()  => (dispatch: any) => {\r\n  let promise = dispatch(getAuthUserdata());\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(actions.initializedSuccess());\r\n    })\r\n}\r\n\r\nexport default appReducer;","import { createStore, combineReducers, compose, applyMiddleware, Action } from \"redux\";\r\nimport profileReducer from './profileReducer';\r\nimport dialogsReducer from './dialogsReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware, { ThunkAction } from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nlet rootReducer = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n});\r\n\r\ntype rootReducerType = typeof rootReducer;\r\nexport type appStateType = ReturnType<rootReducerType>;\r\n\r\ntype PropertiesType<Type> = Type extends {[key: string]: infer AC} ? AC : never;\r\nexport type InferActionsTypes<Type extends {[key: string]: (...args: any[])=> any}> = ReturnType<PropertiesType<Type>>\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, appStateType, unknown, A>;\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\nexport default store;","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nexport type MapStatePropsType = {\r\n  isAuth: boolean;\r\n  login: string | null;\r\n};\r\n\r\nexport type MapDispatchPropsType = {\r\n  logout: () => void;\r\n};\r\n\r\nconst Header: React.FC<MapStatePropsType & MapDispatchPropsType> = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src=\"https://www.logogenie.net/download/preview/medium/3589659\" />\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {' '}\r\n            {props.login} - <button onClick={props.logout}>Logout</button>{' '}\r\n          </div>\r\n        ) : (\r\n          <NavLink to={'/login'}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header, { MapStatePropsType, MapDispatchPropsType } from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/authReducer';\r\nimport { appStateType } from '../../redux/redux-store';\r\n\r\ntype PropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\nclass HeaderContainer extends React.Component<PropsType> {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\nconst mapStateToProps = (state: appStateType) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\nexport default connect<MapStatePropsType, MapDispatchPropsType, {}, appStateType>(mapStateToProps, {\r\n  logout,\r\n})(HeaderContainer);\r\n","import React, { Component } from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>News</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Music</a>\r\n            </div>\r\n            <div className={s.item}>\r\n                <a>Settings</a>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { InjectedFormProps, reduxForm } from 'redux-form';\r\nimport styles from '../../components/common/Preloader/FormsControls/FormsControls.module.css';\r\nimport { login } from '../../redux/authReducer';\r\nimport { appStateType } from '../../redux/redux-store';\r\nimport { required } from '../../redux/utils/validators/validators';\r\nimport { createField, Input } from '../common/Preloader/FormsControls/FormsControls';\r\n\r\ntype LoginFormOwnProps = {\r\n  captchaUrl: string | null;\r\n};\r\n\r\nconst LoginForm: React.FC<\r\n  InjectedFormProps<LoginFormValuesType, LoginFormOwnProps> & LoginFormOwnProps\r\n> = ({ handleSubmit, error, captchaUrl }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField<LoginFormValuesTypeKeys>('Email', 'email', Input, [required])}\r\n      {createField<LoginFormValuesTypeKeys>('Password', 'password', Input, [required], {\r\n        type: 'password',\r\n      })}\r\n      {createField<LoginFormValuesTypeKeys>(\r\n        undefined,\r\n        'rememberMe',\r\n        Input,\r\n        [required],\r\n        { type: 'checkbox' },\r\n        'remember me',\r\n      )}\r\n\r\n      {captchaUrl && <img alt=\"captcha\" src={captchaUrl} />}\r\n      {captchaUrl &&\r\n        createField<LoginFormValuesTypeKeys>('Symbols from image', 'captcha', Input, [required])}\r\n\r\n      {error && <div className={styles.formSummaryError}>{error}</div>}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm<LoginFormValuesType, LoginFormOwnProps>({\r\n  form: 'login',\r\n})(LoginForm);\r\n\r\nexport type LoginFormValuesType = {\r\n  email: string;\r\n  password: string;\r\n  rememberMe: boolean;\r\n  captcha: string;\r\n};\r\n\r\ntype LoginFormValuesTypeKeys = Extract<keyof LoginFormValuesType, string>;\r\n\r\nexport const LoginPage: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const captchaUrl = useSelector((state: appStateType) => state.auth.captchaUrl);\r\n  const isAuth = useSelector((state: appStateType) => state.auth.isAuth);\r\n\r\n  const onSubmit = (formData: LoginFormValuesType) => {\r\n    dispatch(login(formData.email, formData.password, formData.rememberMe, formData.captcha));\r\n  };\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { Suspense } from 'react';\r\nimport PreloaderImg from '../components/common/Preloader/PreloaderImg';\r\n\r\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n  return (props: WCP) => {\r\n    return (\r\n      <Suspense fallback={<PreloaderImg />}>\r\n        <WrappedComponent {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n}\r\n","import { createSelector } from \"reselect\";\r\nimport { appStateType } from \"./redux-store\";\r\n\r\nexport const getAllUsers = (state: appStateType) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state: appStateType) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: appStateType) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: appStateType) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: appStateType) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: appStateType) => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n\r\nexport const getUsersFilter = (state: appStateType) => {\r\n  return state.usersPage.filter;\r\n}\r\n\r\n/*Selectors, created by reselect library*/\r\n\r\nexport const getAllUsersSelector = createSelector(\r\n  getAllUsers, (users) => {\r\n    return users.filter(u => true);\r\n  }\r\n)\r\n","import React, { useState } from 'react';\r\nimport styles from './Paginator.module.css';\r\nimport cn from 'classnames';\r\n\r\ntype PropTypes = {\r\n  totalUsersCount: number;\r\n  pageSize: number;\r\n  onPageChanged?: (pageNumber: number) => void;\r\n  currentPage?: number;\r\n  portionSize?: number;\r\n};\r\n\r\nlet Paginator: React.FC<PropTypes> = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  onPageChanged = () => {},\r\n  currentPage = 1,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\r\n\r\n  let pages: Array<number> = [];\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState<number>(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={cn(styles.paginationWrapper)}>\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}>\r\n          Prev\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter((p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map((p, index) => {\r\n          return (\r\n            <span\r\n              key={index}\r\n              className={cn(currentPage === p && styles.selectedPage)}\r\n              onClick={(e) => {\r\n                onPageChanged(p);\r\n              }}>\r\n              {p}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}>\r\n          Next\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport userPhoto from \"../../assets/images/user.jpg\"\r\nimport { NavLink } from 'react-router-dom'\r\nimport { usersType } from '../../types/types';\r\n\r\n\r\ntype PropsType = {\r\n  user: usersType,\r\n  followingInProgress: Array<number>,\r\n  unfollow: (userId: number) => void,\r\n  follow: (userId: number) => void,\r\n  acceptUnFollow: (userId: number) => void,\r\n  acceptFollow: (userId: number) => void\r\n}\r\n\r\nlet User: React.FC<PropsType> = ({ user, followingInProgress, acceptUnFollow, unfollow, acceptFollow, follow }) => {\r\n  return (\r\n    <div className={styles.usersList__item}>\r\n      <span>\r\n        <div>\r\n          <NavLink to={'/profile/' + user.id}>\r\n            <img alt=\"profile\" src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.usersPhoto} />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed\r\n            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              acceptUnFollow(user.id)\r\n              unfollow(user.id)\r\n            }} >Unfollow</button>\r\n            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n              acceptFollow(user.id)\r\n              follow(user.id)\r\n            }}>Follow</button>}\r\n        </div>\r\n      </span>\r\n      <span>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n      </span>\r\n      <span>\r\n        <div>{\"u.location.country\"}</div>\r\n        <div>{\"u.location.city\"}</div>\r\n      </span>\r\n    </div>)\r\n\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport { filterType } from '../../../redux/usersReducer';\r\n\r\ntype PropsType = {\r\n  onFilterChanged: (filter: filterType) => void;\r\n};\r\n\r\ntype FormType = {\r\n  term: string;\r\n  friend: 'true' | 'false' | 'null';\r\n};\r\n\r\nconst usersSearchFormValidate = (values: FormType) => {\r\n  //   const errors = {\r\n  //     term: '',\r\n  //   };\r\n  //   if (!values.term) {\r\n  //     errors.term = 'Required';\r\n  //   }\r\n  //   return errors;\r\n};\r\n\r\nconst UsersSearchForm: React.FC<PropsType> = React.memo(({ onFilterChanged }) => {\r\n  const submit = (\r\n    values: FormType,\r\n    { setSubmitting }: { setSubmitting: (isSubmitting: boolean) => void },\r\n  ) => {\r\n    const filter: filterType = {\r\n      term: values.term,\r\n      friend: values.friend === null ? null : values.friend === 'true' ? true : false,\r\n    };\r\n    onFilterChanged(filter);\r\n    setSubmitting(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <Formik\r\n        initialValues={{ term: '', friend: 'null' }}\r\n        validate={usersSearchFormValidate}\r\n        onSubmit={submit}>\r\n        {({ isSubmitting }) => (\r\n          <Form>\r\n            <Field type=\"text\" name=\"term\" />\r\n            <ErrorMessage name=\"term\" component=\"div\" />\r\n            <Field as=\"select\" name=\"friend\">\r\n              <option value=\"null\">All</option>\r\n              <option value=\"false\">Only followed</option>\r\n              <option value=\"true\">Only unfollowed</option>\r\n            </Field>\r\n            <button type=\"submit\" disabled={isSubmitting}>\r\n              Find\r\n            </button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default UsersSearchForm;\r\n","import React from 'react';\r\nimport styles from './users.module.css';\r\nimport Paginator from '../common/Preloader/Paginator/Paginator';\r\nimport User from './User';\r\nimport { usersType } from '../../types/types';\r\nimport UsersSearchForm from './UsersSearchForm/UsersSearchForm';\r\nimport { actions, filterType, acceptFollow, acceptUnFollow } from '../../redux/usersReducer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  getCurrentPage,\r\n  getPageSize,\r\n  getAllUsers,\r\n  getTotalUsersCount,\r\n  getUsersFilter,\r\n  getFollowingInProgress,\r\n} from './../../redux/usersSelectors';\r\nimport { getUsers } from './../../redux/usersReducer';\r\n\r\ntype PropTypes = {\r\n  portionSize?: number;\r\n};\r\n\r\nexport const Users: React.FC<PropTypes> = () => {\r\n  const totalUsersCount = useSelector(getTotalUsersCount);\r\n  const currentPage = useSelector(getCurrentPage);\r\n  const pageSize = useSelector(getPageSize);\r\n  const filter = useSelector(getUsersFilter);\r\n  const users = useSelector(getAllUsers);\r\n  const followingInProgress = useSelector(getFollowingInProgress);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getUsers(currentPage, pageSize, filter));\r\n  }, []);\r\n\r\n  const onPageChanged = (pageNumber: number) => {\r\n    dispatch(getUsers(pageNumber, pageSize, filter));\r\n  };\r\n\r\n  const onFilterChanged = (filter: filterType) => {\r\n    dispatch(getUsers(1, pageSize, filter));\r\n  };\r\n\r\n  const follow = (userId: number) => {\r\n    dispatch(actions.follow(userId));\r\n  };\r\n\r\n  const unfollow = (userId: number) => {\r\n    dispatch(actions.unfollow(userId));\r\n  };\r\n\r\n  const acceptFollow = (userId: number) => {\r\n    dispatch(acceptFollow(userId));\r\n  };\r\n\r\n  const acceptUnFollow = (userId: number) => {\r\n    dispatch(acceptUnFollow(userId));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n        totalUsersCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n      />\r\n      <div className={styles.usersList}>\r\n        {users.map((u) => (\r\n          <User\r\n            user={u}\r\n            key={u.id}\r\n            followingInProgress={followingInProgress}\r\n            acceptUnFollow={acceptUnFollow}\r\n            unfollow={unfollow}\r\n            acceptFollow={acceptFollow}\r\n            follow={follow}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport PreloaderImg from '../common/Preloader/PreloaderImg';\r\nimport { getIsFetching } from '../../redux/usersSelectors';\r\nimport { Users } from './Users';\r\n\r\ntype UsersPagePropsType = {\r\n  pageTitle: string;\r\n};\r\n\r\nexport const UsersPage: React.FC<UsersPagePropsType> = ({ pageTitle }) => {\r\n  const isFetching = useSelector(getIsFetching);\r\n  return (\r\n    <React.Fragment>\r\n      <h2>{pageTitle}</h2>\r\n      {isFetching ? <PreloaderImg /> : null}\r\n      <Users />\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { LoginPage } from './components/LoginPage/LoginPage';\r\nimport PreloaderImg from './components/common/Preloader/PreloaderImg';\r\nimport './App.css';\r\nimport { Route, Switch, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { compose } from 'redux';\r\nimport { withSuspense } from './hoc/WithSuspense';\r\nimport { appStateType } from './redux/redux-store';\r\n\r\nimport { UsersPage } from './components/Users/UsersPage';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst SuspendedDialogs = withSuspense(DialogsContainer);\r\nconst SuspendedProfile = withSuspense(ProfileContainer);\r\n\r\ntype MapStatePropsType = ReturnType<typeof mapStateToProps>;\r\ntype DispatchPropsType = {\r\n  initializeApp: () => void;\r\n};\r\n\r\nclass App extends React.Component<MapStatePropsType & DispatchPropsType> {\r\n  catchAllUnhandledErrors = (e: Event | PromiseRejectionEvent) => {\r\n    alert('Some Error occured');\r\n  };\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener('unhandlerejection', this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('unhandlerejection', this.catchAllUnhandledErrors);\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <PreloaderImg />;\r\n    }\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route exact path=\"/\" render={() => <Redirect to=\"/profile\" />} />\r\n            <Route path=\"/dialogs\" render={() => <SuspendedDialogs />} />\r\n            <Route path=\"/profile/:userId?\" render={() => <SuspendedProfile />} />\r\n            <Route path=\"/users\" render={() => <UsersPage pageTitle={'Users'} />} />\r\n            <Route path=\"/login\" render={() => <LoginPage />} />\r\n            <Route path=\"*\" render={() => <div>404 NOT FOUND</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: appStateType) => ({\r\n  initialized: state.app.initialized,\r\n});\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, { initializeApp }),\r\n  withRouter,\r\n)(App);\r\n","import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport Backend from 'i18next-http-backend';\r\nimport LanguageDetector from 'i18next-browser-languagedetector';\r\n// don't want to use this?\r\n// have a look at the Quick start guide \r\n// for passing in lng and translations on init\r\n\r\nconst Languages = ['en','uk','ru']\r\n\r\ni18n\r\n  // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n  // learn more: https://github.com/i18next/i18next-http-backend\r\n  .use(Backend)\r\n  // detect user language\r\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n  .use(LanguageDetector)\r\n  // pass the i18n instance to react-i18next.\r\n  .use(initReactI18next)\r\n  // init i18next\r\n  // for all options read: https://www.i18next.com/overview/configuration-options\r\n  .init({\r\n    fallbackLng: 'en',\r\n    debug: true,\r\n    whiteList: Languages,\r\n\r\n    interpolation: {\r\n      escapeValue: false, // not needed for react as it escapes by default\r\n    }\r\n  });\r\n\r\n\r\nexport default i18n;","import store from \"./redux/redux-store\"\r\nimport React, { Suspense } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\r\nimport { Provider } from \"react-redux\";\r\nimport './i18next';\r\nimport PreloaderImg from \"./components/common/Preloader/PreloaderImg\";\r\n\r\n\r\nReactDOM.render(\r\n  <HashRouter /*basename={process.env.PUBLIC_URL} - это строка нужна для BrowserRouter для github pages*/>\r\n    <Provider store={store}>\r\n      <Suspense fallback={<PreloaderImg />}>\r\n        <App />\r\n      </Suspense>\r\n    </Provider>\r\n  </HashRouter>, document.getElementById('root'));\r\n\r\n","import React from 'react';\r\nimport preLoader from './../../../assets/images/preloader.gif';\r\nimport styles from './../../Users/users.module.css';\r\n\r\nlet PreloaderImg: React.FC = (props) => {\r\n  return (\r\n    <div className={styles.preLoaderWrapper} style={{ backgroundColor: 'white' }}>\r\n      <img className={styles.preLoaderWrapperImg} alt=\"preloader\" src={preLoader} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreloaderImg;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preLoaderWrapper\":\"users_preLoaderWrapper__b8Ph8\",\"usersPhoto\":\"users_usersPhoto__1sNoJ\",\"usersList\":\"users_usersList__3bAch\",\"usersList__item\":\"users_usersList__item__1A002\"};","export type FiledValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport const required: FiledValidatorType = (value) => {\r\n  if (value) return undefined;\r\n  return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number):FiledValidatorType   =>\r\n  (value) => {\r\n    if (value.length > maxLength) return `Max length of ${maxLength} symbols has been exceeded`;\r\n    return undefined\r\n  } \r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1snGJ\",\"error\":\"FormsControls_error__2Ned1\",\"formSummaryError\":\"FormsControls_formSummaryError__3VOcO\"};"],"sourceRoot":""}